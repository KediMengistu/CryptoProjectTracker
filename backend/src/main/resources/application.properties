spring.application.name=backend

# --- R2DBC (app data access) ---
spring.r2dbc.url=r2dbc:postgresql://${SUPABASE_DB_HOST}:${SUPABASE_DB_PORT}/${SUPABASE_DB_NAME}?sslMode=${SUPABASE_SSLMODE}
spring.r2dbc.username=${SUPABASE_DB_USER}
spring.r2dbc.password=${SUPABASE_DB_PASSWORD}

# If you added r2dbc-pool:
# spring.r2dbc.pool.enabled=true

# --- Flyway (runs with JDBC) ---
spring.flyway.url=jdbc:postgresql://${SUPABASE_DB_HOST}:${SUPABASE_DB_PORT}/${SUPABASE_DB_NAME}?sslmode=${SUPABASE_SSLMODE}
spring.flyway.user=${SUPABASE_DB_USER}
spring.flyway.password=${SUPABASE_DB_PASSWORD}

# Don?t let Spring run SQL init if you rely on Flyway
spring.sql.init.mode=never

# resolve from env; fail fast if base URL is missing
coingecko.base-url=${COINGECKO_BASE_URL}
# api key is optional; allow empty if not set
coingecko.api-key=${COINGECKO_API_KEY:}